<div data-controller="building-status">
  <%= form_with model: [@survey, @building_wall_materials], url: survey_building_wall_materials_path, local: true  do |f| %>
    <div class="govuk-form-group">
      <fieldset class="govuk-fieldset">
        <h1 class="govuk-label-wrapper">
          <label class="govuk-label govuk-label--l govuk-!-margin-bottom-5" for="event-name">
            What percentage of the total external wall area of the building does this material cover?
          </label>
          <%= f.hidden_field :percentage, value: "percentage" %>
          <% @building_wall_materials.materials.each do |material| %>
            <label class="govuk-caption-l govuk-!-margin-bottom-3" for="width-5">
              <%= material.name %> <% if material.details %> : <%= material.details %> <% end %>
            </label>
            <%= f.text_field(:building_material_percentage, class: "material govuk-input govuk-input--width-5 govuk-!-margin-bottom-3", id:"#{material.name}", name:"building_material[#{material.id}]") %>
          <% end %>
          <div id="more-detail-hint" class="govuk-hint">
            Total percentage of cover <span id="material_percentage"> 0 %</span>
          </div>
        </fieldset>
        <%= f.submit "Continue", class: "govuk-button", data: { module: "govuk-button" } %>
      </div>
    <% end %>
  </div>
