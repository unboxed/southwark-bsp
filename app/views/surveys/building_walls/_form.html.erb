<%= render 'application/back_link', chosen_path: edit_survey_building_height_path(@survey.id, @section.content_id) %>
<div data-controller="building-status">
  <%= form_with model: [@survey, @building_wall] do |f| %>
    <div class="govuk-form-group">
      <fieldset class="govuk-fieldset" aria-describedby="waste-hint">
        <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
          <h1 class="govuk-fieldset__heading">
            External facing materials
          </h1>
        </legend>
        <div id="waste-hint" class="govuk-hint">
          Select all that apply
        </div>
        <div class="govuk-checkboxes">
          <%= f.collection_check_boxes(:materials, @options_for_materials, :itself, :itself) do |b| %>
            <div class="govuk-checkboxes__item">
              <%= b.check_box(class: 'govuk-checkboxes__input', checked: @building_wall.materials.find_by(name: b.value) ? true : false) %>
              <%= b.label(class: 'govuk-label govuk-checkboxes__label') %>
            </div>
          <% end %>
          <div class="govuk-form-group govuk-visually-hidden" id="other_material_details" %>
            <%= f.label :details, "Please describe the selected material", class: "govuk-label" %>
            <%= f.text_field :details, class: "govuk-input govuk-input--width-20", value: @other_material ? @other_material : '' %>
          </div>
          <br>
          <%= f.submit "Continue", class: "govuk-button", data: { module: "govuk-button" } %>
        <% end %>
      </div>
    </div>
  </fieldset>
</div>
